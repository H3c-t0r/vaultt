{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
~}}

{{#if this.byMonthActivityData}}
  <Clients::MonthlyUsage
    @verticalBarChartData={{this.byMonthActivityData}}
    @responseTimestamp={{@activity.responseTimestamp}}
  />
  <Clients::Token::MonthlyNew
    @byMonthActivityData={{this.byMonthActivityData}}
    @authMount={{this.countsController.authMount}}
    @runningTotals={{this.totalUsageCounts}}
    @responseTimestamp={{@activity.responseTimestamp}}
  />
{{else}}
  {{! UsageStats render when viewing a single, historical month AND activity data predates new client breakdown (< v1.10.0)
    or viewing the current month filtered down to auth method }}
  <Clients::UsageStats
    @title="Total usage"
    @description="These totals are within
    {{or @authMount 'this namespace and all its children'}}.
    {{if
      this.isCurrentMonth
      "Only totals are available when viewing the current month. To see a breakdown of new and total clients for this month, select the 'Current Billing Period' filter."
    }}"
    @totalUsageCounts={{this.totalUsageCounts}}
  />
{{/if}}