<PageHeader as |p|>
  <p.levelLeft>
    <h1 class="title is-3">
      Namespaces
    </h1>
  </p.levelLeft>
  <p.levelRight>
    {{#link-to 'vault.cluster.access.namespaces.create' class="button has-icon-right is-ghost is-compact"}}
      Create a namespace
      <ICon @glyph="chevron-right" @size=11 />
    {{/link-to}}
  </p.levelRight>
</PageHeader>
<ListView @items={{model}} @itemNoun="namespace" as |item|>
  <ListItem as |LItem|>
    <LItem.content>
      {{item.id}}
    </LItem.content>

    <LItem.menu>
      <li class="action">
        <ConfirmAction
          @confirmButtonClasses="button is-primary"
          @confirmButtonText="Remove"
          @buttonClasses="link is-destroy"
          @onConfirmAction={{action "performTransaction" model key}}
          @confirmMessage={{concat "Are you sure you want to remove " key "?"}}
          @showConfirm={{get this (concat "shouldDelete-" key)}}
          @class={{if (get this (concat "shouldDelete-" key)) "message is-block is-warning is-outline"}}
          @containerClasses="message-body is-block"
          @messageClasses="is-block"
        >
          Delete
        </ConfirmAction>
      </li>
    </LItem.menu>
  </ListItem>
</ListView>

