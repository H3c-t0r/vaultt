---
title: How to docfy
order: 1
---

# How to docfy

http://localhost:4200/ui/docs (navigate directly or click the present icon in the bottom right of the app footer)

## `docs/` markdown files

Side nav links correspond to the file + directory structure within the `docs/` directory. These markdown files **can** be edited directly and any updates should be saved and pushed to main. Component docs are generated by the `yarn docs` command, see below for writing `jsdoc` for component docs.

## generating component docs

The `docs/components/` directory is where _generated_ markdown files for components live after running `yarn docs`. **Do not edit component markdown files directly** make changes to the `jsdoc` to update. The `docs/component/*` files are included `.gitignore` so they are not pushed to main. `jsdoc-to-markdown` errors log in the console.

| Command                             | Description                                                                |
| ----------------------------------- | -------------------------------------------------------------------------- |
| `yarn docs`                         | generate markdown file for every\* component in the `addon/core` directory |
| `yarn docfy-md some-component-name` | generate markdown file for specific component                              |
| `yarn docfy-md read-more core`      | generate markdown for `read-more` component in the `core` addon            |
| `rm -f ./docs/components/*`         | cleanup and delete generated component markdown files                      |

> \*replication components are skipped as these are technically not reused outside of the replication engine and should not live in the addon engine

## Writing documentation for a component

Component docs are generated by the script `yarn docs` **Do not edit component markdown files directly**
Accurate `jsdoc` syntax is important so `jsdoc-to-markdown` properly generates the markdown file for that component.

| jsdoc examples                       |                                                                                                            |                                                               |
| ------------------------------------ | ---------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| form-field (`@description` example)  | [github ](https://github.com/hashicorp/vault/blob/main/ui/lib/core/addon/components/form-field.js)         | [vscode ](../lib/core/addon/components/form-field.js)         |
| confirmation-modal                   | [github ](https://github.com/hashicorp/vault/blob/main/ui/lib/core/addon/components/confirmation-modal.js) | [vscode ](../lib/core/addon/components/confirmation-modal.js) |
| certificate-card                     | [github ](https://github.com/hashicorp/vault/blob/main/ui/lib/core/addon/components/certificate-card.js)   | [vscode ](../lib/core/addon/components/certificate-card.js)   |
| alert-inline (`@deprecated` example) | [github](https://github.com/hashicorp/vault/blob/main/ui/lib/core/addon/components/alert-inline.js)        | [vscode ](../lib/core/addon/components/alert-inline.js)       |

### Syntax tips

Docfy renders an actual instance of the component beneath `@example` as a sample. Make sure component uses proper hbs syntax and all args are on a single line.

> - Check the generated markdown file for syntax errors or typos, to update edit the jsdoc and re-run the generator. _Do not edit component markdown files directly_
> - Param types: `object`, `string`, `function`, `array`
> - Do not include `null` for empty default values
> - Wrap optional params in brackets `[]`
> - To include a codeblock in your module's description use `@description`

```
❌ multi-line jsdoc will not render the component example
* @example
* <Block
*  @title="Example"
*  @description="My component"
* />
```

```
✅ this will render
* @example
* <Block @title="Example" description="My component" />
```

**Template**

```
/**
 * @module ComponentName
 * Description of the component
 *
 * @example
 * <ComponentName @param={{}} optionalParam={{}} />
 *
 * @param {object} paramName - description
 * @param {array} requiredParam=foo - foo is the default value here
 * @param {function} [optionalParamName] - An optional parameter
 * @param {string} [param="some default value"] - An optional parameter with a default value
 */
```

### More info

- [Building and consuming components](./building-components.md)
