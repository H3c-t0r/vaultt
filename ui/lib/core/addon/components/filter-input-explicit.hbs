{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
~}}

<form {{on "submit" (perform @handleSearch)}}>
  <Hds::SegmentedGroup as |S|>
    <S.TextInput
      @value={{@query}}
      placeholder={{@placeholder}}
      aria-label={{@placeholder}}
      size="32"
      {{on "input" @handleInput}}
      {{on "keydown" @handleKeyDown}}
      data-test-filter-input-explicit
    />
    <S.Button
      @color="secondary"
      @text="Search"
      @icon={{if @handleSearch.isRunning "loading" "search"}}
      type="submit"
      data-test-filter-input-explicit-submit
    />
  </Hds::SegmentedGroup>
</form>