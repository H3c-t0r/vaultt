{{#unless @hideTextAreaToggle}}
  <div class="level is-mobile">
    <div class="level-left">
      <label class="is-label" data-test-text-file-label>
        {{or @label "File"}}
        {{#if @helpText}}
          <InfoTooltip>
            <span data-test-help-text>
              {{@helpText}}
            </span>
          </InfoTooltip>
        {{/if}}
      </label>
    </div>
    <div class="level-right">
      <div class="control is-flex">
        <Input
          data-test-text-toggle
          id="text-area-toggle"
          class="switch is-rounded is-success is-small"
          @type="checkbox"
          @checked={{this.showTextInput}}
          {{on "change" (fn (mut this.showTextInput) (not this.showTextInput))}}
        />
        <label for="text-area-toggle">
          Enter as text
        </label>
      </div>
    </div>
  </div>
{{/unless}}
<div class="field text-file box is-fullwidth is-marginless is-shadowless is-paddingless" data-test-component="text-file">
  {{#if this.showTextInput}}
    <div class="control has-icon-right">
      <textarea
        class="textarea {{unless this.showValue 'masked-font'}}"
        {{on "input" this.handleTextInput}}
        data-test-text-file-textarea
      >
        {{@file.value}}
      </textarea>
      <button
        {{on "click" this.toggleMask}}
        type="button"
        class="{{if (eq this.value '') 'has-text-grey'}} masked-input-toggle button is-compact"
        data-test-button="toggle-masked"
      >
        <Icon @name={{if this.showValue "eye" "eye-off"}} @stretched={{true}} />
      </button>
    </div>
    <p class="help has-text-grey">Enter the value as text</p>
  {{else}}
    <div class="control is-expanded">
      <div class="file has-name is-fullwidth">
        <div class="file-label" aria-label="Choose a file">
          <Input
            id="file-input"
            class="file-input"
            @type="file"
            {{on "change" this.handleFileUpload}}
            data-test-text-file-input
          />
          <label for="file-input" class="file-cta button">
            <Icon @name="upload" class="has-light-grey-text" />
            Choose a fileâ€¦
          </label>
          <span class="file-name has-text-grey-dark" data-test-text-file-input-label>
            {{#if @file.filename}}
              {{@file.filename}}
            {{else}}
              No file chosen
            {{/if}}
          </span>
          {{#if @file.filename}}
            <button
              type="button"
              class="file-delete-button"
              aria-label="Clear file selection"
              {{on "click" this.clearFile}}
              data-test-text-clear
            >
              <Icon @name="x-circle" />
            </button>
          {{/if}}
        </div>
      </div>
    </div>
    <p class="help has-text-grey">Select a file from your computer</p>
  {{/if}}
</div>