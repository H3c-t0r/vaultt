<KvPageHeader @breadcrumbs={{@breadcrumbs}} @model={{@model}} @isEngineView={{true}} @pageTitle={{@pageTitle}}>
  <:tabLinks>
    <LinkTo @route="list" data-test-secrets-tab="Secrets">Secrets</LinkTo>
    <LinkTo @route="configuration" data-test-secrets-tab="Configuration">Configuration</LinkTo>
  </:tabLinks>

  <:toolbarFilters>
    {{! TODO add navigateInput }}
  </:toolbarFilters>

  <:toolbarActions>
    <ToolbarLink @route="create" @type="add">Create secret</ToolbarLink>
  </:toolbarActions>
</KvPageHeader>

{{! TODO add permissions on the menu items }}
{{!-- {{#if (gt @model.length 0)}}
  {{#each @model as |secret|}}
    <LinkedBlock
      class="list-item-row"
      @params={{array (if secret.isFolder "list" "secret.details") secret.path}}
      @linkPrefix={{this.mountPoint}}
    >
      <div class="level is-mobile">
        <div class="level-left">
          <div>
            <Icon @name="user" class="has-text-grey-light" />
            <span class="has-text-weight-semibold is-underline">
              {{secret.path}}
            </span>
          </div>
        </div>
        <div class="level-right is-flex is-paddingless is-marginless">
          <div class="level-item">
            <PopupMenu>
              <nav class="menu">
                <ul class="menu-list">
                  <li>
                    <LinkTo @route="secret.details" @model={{secret.path}}>
                      Details
                    </LinkTo>
                  </li>
                  <li>
                    <LinkTo @route="secret.edit" @model={{secret.path}}>
                      Edit
                    </LinkTo>
                  </li>
                </ul>
              </nav>
            </PopupMenu>
          </div>
        </div>
      </div>
    </LinkedBlock>
  {{/each}}
{{else}}
  <EmptyState
    data-test-secret-list-empty-state
    @title="No secrets yet"
    @message="When created, secrets will be listed here. Create a secret to get started."
  >
    <LinkTo class="has-top-margin-xs" @route="create">
      Create secret
    </LinkTo>
  </EmptyState>
{{/if}} --}}