<KvPageHeader @breadcrumbs={{@breadcrumbs}} @pageTitle={{@path}}>
  <:tabLinks>
    <LinkTo @route="secret.details" data-test-secrets-tab="Secret">Secret</LinkTo>
    <LinkTo @route="secret.metadata.index" data-test-secrets-tab="Metadata">Metadata</LinkTo>
    <LinkTo @route="secret.paths" data-test-secrets-tab="Paths">Paths</LinkTo>
    {{#if @secret.canReadMetadata}}
      <LinkTo @route="secret.metadata.versions" data-test-secrets-tab="Version History">Version History</LinkTo>
    {{/if}}
  </:tabLinks>
</KvPageHeader>

<h2 class="title is-5 has-bottom-padding-s has-top-margin-l">
  Paths
</h2>

<div class="box is-fullwidth is-sideless is-paddingless is-marginless">
  <InfoTableRow
    @label="API path"
    @labelWidth="is-one-third"
    @helperText="Use this path when referring to this secret in API"
  >
    <CopyButton
      class="button is-compact is-transparent level-right"
      @clipboardText={{this.paths.data}}
      @buttonType="button"
      @success={{action (set-flash-message "API path copied!")}}
    >
      <Icon @name="clipboard-copy" aria-label="Copy" />
    </CopyButton>
    <code class="level-left">{{this.paths.data}}</code>
  </InfoTableRow>

  <InfoTableRow
    @label="CLI path"
    @labelWidth="is-one-third"
    @helperText="Use this path when referring to this secret in CLI"
  >
    <CopyButton
      class="button is-compact is-transparent level-right"
      @clipboardText={{this.paths.cli}}
      @buttonType="button"
      @success={{action (set-flash-message "CLI path copied!")}}
    >
      <Icon @name="clipboard-copy" aria-label="Copy" />
    </CopyButton>
    <code class="level-left">
      {{this.paths.cli}}
    </code>
  </InfoTableRow>

  <InfoTableRow
    @label="Metadata path"
    @labelWidth="is-one-third"
    @helperText="Use this path for viewing secret metadata and permanent deletion."
  >
    <CopyButton
      class="button is-compact is-transparent level-right"
      @clipboardText={{this.paths.metadata}}
      @buttonType="button"
      @success={{action (set-flash-message "Metadata path copied!")}}
    >
      <Icon @name="clipboard-copy" aria-label="Copy" />
    </CopyButton>
    <code class="level-left">{{this.paths.metadata}}</code>
  </InfoTableRow>
</div>