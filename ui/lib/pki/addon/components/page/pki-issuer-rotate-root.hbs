<PageHeader as |p|>
  <p.top>
    <Page::Breadcrumbs @breadcrumbs={{@breadcrumbs}} />
  </p.top>
  <p.levelLeft>
    <h1 class="title is-3" data-test-pki-page-title>
      {{this.title}}
    </h1>
  </p.levelLeft>
</PageHeader>

{{#unless @model.id}}
  <div class="box is-bottomless is-fullwidth is-marginless is-flex-row">
    {{#each this.generateOptions as |option|}}
      <RadioCard
        @title={{option.label}}
        @description={{option.description}}
        @icon="list"
        @value={{option.key}}
        @groupValue={{@model.actionType}}
        @onChange={{fn (mut @model.actionType) option.key}}
        data-test-radio={{option.key}}
      />
    {{/each}}
  </div>
{{/unless}}
<div class="box is-bottomless is-fullwidth is-marginless">
  {{#if (eq @model.actionType "rotate-root")}}
    cn inputs
  {{else}}
    <PkiGenerateRoot
      @model={{@model}}
      @onCancel={{transition-to "vault.cluster.secrets.backend.pki.issuers.index"}}
      @onComplete={{transition-to "vault.cluster.secrets.backend.pki.issuers.index"}}
      @onSave={{fn (mut this.title) "View rotated root"}}
      @adapterOptions={{hash actionType="rotate-root"}}
    />
  {{/if}}
</div>