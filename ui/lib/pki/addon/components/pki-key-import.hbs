<form {{on "submit" (perform this.submitForm)}} data-test-pki-key-import-form>
  <MessageError @errorMessage={{this.errorBanner}} class="has-top-margin-s" />
  <div class="box is-sideless is-fullwidth is-marginless">
    <p class="has-bottom-margin-l">
      Use this form to import a single pem encoded rsa, ec, or ed25519 key.
      <DocLink @path="/vault/api-docs/secret/pki#import-key">
        Learn more here.
      </DocLink>
    </p>
    <FormFieldLabel
      for="keyName"
      @label="Name"
      @subText="Optional, human-readable name for this key. The name must be unique across all keys and cannot be 'default'."
      data-test-pki-key-name-label
    />
    <Input
      spellcheck="false"
      class="field input"
      id="keyName"
      @type="text"
      @value={{@model.keyName}}
      data-test-pki-key-name-input
    />
    <TextFile
      @subText="Upload a PEM bundle or certificate"
      @file={{this.file}}
      @onChange={{this.onFileUploaded}}
      @label="PEM Bundle"
      data-test-pki-text-file-input
    />
  </div>
  <div class="has-top-padding-s">
    <button
      type="submit"
      class="button is-primary {{if this.submitForm.isRunning 'is-loading'}}"
      disabled={{this.submitForm.isRunning}}
      data-test-pki-key-import
    >
      Import key
    </button>
    <button
      type="button"
      class="button has-left-margin-s"
      disabled={{this.submitForm.isRunning}}
      {{on "click" this.cancel}}
      data-test-pki-key-cancel
    >
      Cancel
    </button>
    {{#if this.invalidFormAlert}}
      <div class="control">
        <AlertInline
          @type="danger"
          @paddingTop={{true}}
          @message={{this.invalidFormAlert}}
          @mimicRefresh={{true}}
          data-test-pki-key-validation-error
        />
      </div>
    {{/if}}
  </div>
</form>