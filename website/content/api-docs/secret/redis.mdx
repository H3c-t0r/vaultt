---
layout: api
page_title: Redis - Secrets Engines - HTTP API
description: This is the API documentation for the Vault Redis secrets engine.
---

# Redis Secrets Engine (API)

This is the API documentation for the Vault Redis secrets engine. For general
information about the usage and operation of the Redis secrets engine, please
see the [Redis secret engine documentation](/docs/secrets/redis).

This documentation assumes the Redis secrets engine is enabled at the
`/redis` path in Vault. Since it is possible to enable secrets engines at any
location, please update your API calls accordingly.

## Configure Connection

This endpoint configures the connection information to communicate with Redis.

| Method | Path            |
| :----- | :-------------- |
| `POST` | `/redis/config` |

### Parameters

- `address` `(string: <required>)` - Specifies the address of the Redis server.

- `username` `(string: <required>)` - Specifies the Redis user to connect with.

- `password` `(string)` - Specifies the password to use.

- `rotate` `(bool)` - Whether to rotate the password immediately. This ensures
  that only Vault knows the password of the administrative user, it is
  recommended to set this parameter to `true`.

### Sample Payload

```json
{
  "address": "my-redis-server:6379",
  "username": "user",
  "password": "password",
  "rotate": "true"
}
```

### Sample Request

<Tabs>
<Tab heading="cURL">

```shell-session
$ curl \
    --header "X-Vault-Token: ..." \
    --request POST \
    --data @payload.json \
    http://127.0.0.1:8200/v1/redis/config
```

</Tab>
<Tab heading="CLI">

```shell-session
$ vault write redis/config \
    address="my-redis-server:6379" \
    username="user" \
    password="password" \
    rotate=true
```

</Tab>
</Tabs>

## Rotate Root Credentials

This endpoint rotates the password used by Vault. Once this method is called
Vault is the only entity that knows the password of its user.

| Method | Path                     |
| :----- | :----------------------- |
| `POST` | `/redis/config/rotate` |


### Sample Request

<Tabs>
<Tab heading="cURL">

```shell-session
$ curl \
    --header "X-Vault-Token: ..." \
    --request POST \
    http://127.0.0.1:8200/v1/redis/config/rotate
```

</Tab>
<Tab heading="CLI">

```shell-session
$ vault write --force redis/config/rotate
```

</Tab>
</Tabs>

## Create or Update Role

This endpoint creates or updates the role definition.

| Method | Path                    |
| :----- | :---------------------- |
| `POST` | `/redis/role/:name` |

### Parameters

- `name` `(string: <required>)` - Specifies the name of the role to create. This
  is specified as part of the URL.

- `rules` `(list of strings: "")` - Specifies the list of rules for the new user.

### Sample Payload

```json
{
  "rules": ["on", "allkeys", "+set"]
}
```

### Sample Request

<Tabs>
<Tab heading="cURL">

```shell-session
$ curl \
    --header "X-Vault-Token: ..." \
    --request POST \
    --data @payload.json \
    http://127.0.0.1:8200/v1/redis/role/my-role
```

</Tab>
<Tab heading="CLI">

```shell-session
$ vault write redis/role/my-role rules="on,allkeys,+set"
```

</Tab>
</Tabs>

## Read Role

This endpoint queries the role definition.

| Method | Path                    |
| :----- | :---------------------- |
| `GET`  | `/redis/role/:name` |

### Parameters

- `name` `(string: <required>)` - Specifies the name of the role to read. This
  is specified as part of the URL.

### Sample Request

<Tabs>
<Tab heading="cURL">

```shell-session
$ curl \
    --header "X-Vault-Token: ..." \
    http://127.0.0.1:8200/v1/redis/role/my-role
```

</Tab>
<Tab heading="CLI">

```shell-session
$ vault read redis/role/my-role
```

</Tab>
</Tabs>

### Sample Response

```json
{
  "data": {
    "rules": ["on", "allkeys", "+set"]
  }
}
```

## Delete Role

This endpoint deletes the role definition.

| Method   | Path                    |
| :------- | :---------------------- |
| `DELETE` | `/redis/role/:name` |

### Parameters

- `name` `(string: <required>)` - Specifies the name of the role to delete. This
  is specified as part of the URL.

### Sample Request

<Tabs>
<Tab heading="cURL">

```shell-session
$ curl \
    --header "X-Vault-Token: ..." \
    --request DELETE \
    http://127.0.0.1:8200/v1/redis/role/my-role
```

</Tab>
<Tab heading="CLI">

```shell-session
$ vault delete redis/role/my-role
```

</Tab>
</Tabs>

## Generate Credentials

This endpoint generates a new set of dynamic credentials based on the named
role.

| Method | Path                    |
| :----- | :---------------------- |
| `GET`  | `/redis/creds/:name` |

### Parameters

- `name` `(string: <required>)` - Specifies the name of the role to create
  credentials against. This is specified as part of the URL.

### Sample Request

<Tabs>
<Tab heading="cURL">

```shell-session
$ curl \
    --header "X-Vault-Token: ..." \
    http://127.0.0.1:8200/v1/redis/creds/my-role
```

</Tab>
<Tab heading="CLI">

```shell-session
$ vault read redis/creds/my-role
```

</Tab>
</Tabs>

### Sample Response

```json
{
  "data": {
    "username": "root-4b95bf47-281d-dcb5-8a60-9594f8056092",
    "password": "9ASiFhQImlO53DzWyrP-"
  }
}
```
