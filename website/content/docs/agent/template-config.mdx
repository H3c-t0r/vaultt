---
layout: docs
page_title: Vault Agent Template Config
description: |-
  Vault Agent's Template Config to set Templating Engine behavior
---

# Vault Agent Template Config

Template Config allows users of Vault Agent to determine the behavior that
pertains to the templating engine.

## Functionality

The `template_config` stanza. Note that `template_config` can only be defined
once, and is different from the `template` stanza. Unlike `template` which
focuses on where and how a specific secret is rendered, `template_config`
contains parameters affects how the templating engine as a whole behaves and its
interaction with the rest of Agent. This includes, but is not limited to,
program exit behavior. Other parameters that applies to the templating engine as
a whole may be added over time.

### Interaction with `error_on_missing_key`

The parameter [`error_on_missing_key`](/docs/agent/template#error_on_missing_key) can be specified within the `template`
stanza which determines if a template should ignore rendering a missing key
within the response of a secret or error out. When `error_on_missing_key` is
not specified or set to `false` and the key to render is not in the secret's
response, the templating engine will ignore it (or render `"<no value>"`)
and continue on with its rendering.

If the desire is to have Agent fail and exit on a missing key, both
`template.error_on_missing_key` and `template_config.exit_on_retry_failure` must
be set to true. Otherwise, the templating engine will error and render to its
destination, but agent will not exit and retry until it's able to do so or until
the process is terminated.

Note that a missing key from a secret's response is different from a missing or
non-existent secret. The former's behavior can be toggled through
`error_on_missing_key`, while the latter always results in an error returned by
the templating engine.

## Configuration

The top level `template_config` block has the following configuration entries:

- `exit_on_retry_failure` `(bool: false)` - This option configures Vault Agent to create
  the parent directories of the destination path if they do not exist.
