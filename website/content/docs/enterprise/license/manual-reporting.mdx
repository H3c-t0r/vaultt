---
layout: docs
page_title: Manual license utilization reporting
description: >-
  Manual license utilization reporting allows you to export, review, and send license utilization data to HashiCorp through the CLI or HCP Web Portal.
---

# Manual license utilization reporting

@include 'alerts/enterprise-only.mdx'

## How to manually send data reports

### Generate a data bundle

Data bundles include collections of JSON snapshots that contain license
utilization information. This data will not be transmitted to HashiCorp
automatically if manual reporting is enabled.

#### Option 1. Use the CLI

1. Login into your [cluster node](/vault/tutorials/cloud/vault-access-cluster).
1. Run this CLI command to generate a data bundle:

   ```shell-session
   $ vault operator utilization
   ```

  By default, the bundle will include all historical snapshots. You are required
  to report at the minimum [x days] of data, but no more than 400 days. 

  You can provide context about the conditions under which the report was
  generated and submitted by providing a comment. This optional comment will not
  be included in the license utilization bundle, but will be included in the
  product audit logs. [example comment]

1. Run this CLI command to send your data bundle to Hashicorp.

  ```shell-session
  $ 
  ```

#### Option 2. Use the Web Portal

1. Login to the web portal.
1. Go to [destination e.g User Licenses]
1. Under [Quick Links] click on **Export license usage**. Your data bundle
should download.

### Send the data bundle to Hashicorp

1. Go to [directory]  and find the file named `output.json`. Copy this file.
1. Go to https://portal.cloud.hashicorp.com/license-utilization/reports/create
1. Click on **Choose Files**, or drop your file(s) into the container.

    a. If the upload  succeeded, The HCP user interface will change the file
    status to **Uploaded** in green.
    
    b. If the upload failed, the file Status will say **Failed** in red, and
    will include error information. 

If the upload fails make sure you havenâ€™t modified the file signature. If the
error persists, please contact your [Account Representative]. 


## Enable manual reporting

Upgrade to a release that supports manual license utilization reporting. These
releases include: 

- Vault Enterprise 1.16.0 and later
- Vault Enterprise 1.15.0 and later
- Vault Enterprise 1.14.0 and later
- Vault Enterprise 1.13.4 and later

## Configuration

Administrators can manage disk space for storing snapshots by defining the
number of days snapshots can be retained. The minimum requirement is [x days] of
data.

Go to [config file / section] and [add/ change fields]

## Data File Content

<CodeBlockConfig hideClipboard>

```json
{
    "payload_version": "1",
    "license_id": "934b62bd-7e7b-7872-7341-9683ecd9acb4",
    "product": "vault",
    "product_version": "1.14.0",
    "export_timestamp": "2023-05-24T10:11:12Z",
    "snapshots": [
        {
            "snapshot_version": 1,
            "snapshot_id": "01GW2Y117Z2BZ7MGS9YQXPF2A4",
            "process_id": "01GVKT7533WF8TBNSJYZV0T10F",
            "timestamp": "2023-06-23T20:33:32.927Z",
            "schema_version": "1.0.0",
            "service": "vault",
            "metrics": {
                "vault.clientcount.current_month_estimate": {
                    "key": "vault.clientcount.current_month_estimate",
                    "kind": "sum",
                    "mode": "write",
                    "value": 40,
                    "labels": {
                        "type": {
                            "entity": 30,
                            "nonentity": 10
                        }
                    }
                },
                "vault.clientcount.previous_month_complete": {
                    "key": "vault.clientcount.previous_month_complete",
                    "kind": "sum",
                    "mode": "write",
                    "value": 20,
                    "labels": {
                        "type": {
                            "entity": 15,
                            "nonentity": 5
                        }
                    }
                }
            }
        }
    ],
    "metadata": {
        "vault": {
            "billing_start": "2023-01-20T00:00:00Z",
            "cluster_id": "e9828fd7-23e9-4393-aa37-60ed77b944c2"
        }
    }
}
```

</CodeBlockConfig>