---
layout: docs
page_title: Redis - Secrets Engines
description: >-
  The Redis secrets engine for Vault generates user credentials to access
  Redis.
---

# Redis Secrets Engine

The Redis secrets engine generates user credentials dynamically based on
configured rules. This means that services that need to access a Redis server
no longer need to hardcode credentials.

## Setup

Most secrets engines must be configured in advance before they can perform their
functions. These steps are usually completed by an operator or configuration
management tool.

1.  Enable the Redis secrets engine:

    ```text
    $ vault secrets enable redis
    Success! Enabled the redis secrets engine at: redis/
    ```

    By default, the secrets engine will mount at the name of the engine. To
    enable the secrets engine at a different path, use the `-path` argument.

1.  Configure the credentials that Vault uses to communicate with Redis to
    generate credentials:

    ```text
    $ vault write redis/config \
        address="my-redis-server:6379" \
        username="admin" \
        password="password" \
        rotate=true
    Success! Data written to: redis/config
    ```

    It is important that the Vault user have the administrator privilege to
    manager users.

1.  Configure a role that maps a name in Vault to a set of Redis ACL rules:

    ```text
    $ vault write redis/role/my-role rules="on,allkeys,+set"
    Success! Data written to: redis/role/my-role
    ```


## Usage

After the secrets engine is configured and a user/machine has a Vault token with
the proper permission, it can generate credentials.

1.  Generate a new credential by reading from the `/creds` endpoint with the name
    of the role:

    ```text
    $ vault read redis/creds/my-role
    Key                Value
    ---                -----
    lease_id           redis/creds/my-role/I39Hu8XXOombof4wiK5bKMn9
    lease_duration     768h
    lease_renewable    true
    password           9ASiFhQImlO53DzWyrP-
    username           root-39669250-3894-8032-c420-3d58483ebfc4
    ```

    Using ACLs, it is possible to restrict using the redis secrets engine
    such that trusted operators can manage the role definitions, and both users
    and applications are restricted in the credentials they are allowed to read.

## API

The Redis secrets engine has a full HTTP API. Please see the
[Redis secrets engine API](/api/secret/redis) for more
details.
