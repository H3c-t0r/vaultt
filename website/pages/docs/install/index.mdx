---
layout: docs
page_title: Install Vault
sidebar_title: Installing Vault
description: |-
  Installing Vault is simple. You can download a precompiled binary or compile
  from source. This page details both methods.
---

# Install Vault

Installing Vault is simple. There are three approaches to installing Vault:

1. Using a [precompiled binary](#precompiled-binaries)

1. Installing [from source](#compiling-from-source)

1. Running a Docker container

Downloading a precompiled binary is easiest, and we provide downloads over TLS
along with SHA256 sums to verify the binary. We also distribute a PGP signature
with the SHA256 sums that can be verified.

## Precompiled Binaries

To install the precompiled binary, [download](/downloads) the appropriate
package for your system. Vault is currently packaged as a zip file. We do not
have any near term plans to provide system packages.

Once the zip is downloaded, unzip it into any directory. The `vault` binary
inside is all that is necessary to run Vault (or `vault.exe` for Windows). Any
additional files, if any, aren't required to run Vault.

Copy the binary to anywhere on your system. If you intend to access it from the
command-line, make sure to place it somewhere on your `PATH`.

## Compiling from Source

To compile from source, you will need [Go](https://golang.org) installed and
configured properly (including a `GOPATH` environment variable set), as well
as a copy of [`git`](https://www.git-scm.com/) in your `PATH`.

1. Clone the Vault repository from GitHub into your `GOPATH`:


    ```shell
    $ mkdir -p $GOPATH/src/github.com/hashicorp && cd $_
    $ git clone https://github.com/hashicorp/vault.git
    $ cd vault
    ```

1. Bootstrap the project. This will download and compile libraries and tools
   needed to compile Vault:


    ```shell
    $ make bootstrap
    ```

1. Build Vault for your current system and put the
   binary in `./bin/` (relative to the git checkout). The `make dev` target is
   just a shortcut that builds `vault` for only your local build environment (no
   cross-compiled targets).


    ```shell
    $ make dev
    ```

## Verifying the Installation

To verify Vault is properly installed, run `vault -h` on your system. You should
see help output. If you are executing it from the command line, make sure it is
on your PATH or you may get an error about Vault not being found.

```shell
$ vault -h
```


## Docker container

## Dev mode

This mode refers to a particular configuration that is very useful during development:
* In-memory storage: secrets engines, configurations and roles won't be persisted in a local volume so it shouldn't be used in a production environment;
* Unsealed: Vault will be already unsealed;
* Root Token initialization: the `Root Token` can be declared via commandline.

Start Vault in Dev-mode via the command:
```sh
docker run \
 --cap-add=IPC_LOCK \
 -p 8200:8200 \
 -e 'VAULT_DEV_ROOT_TOKEN_ID=root' \
 -e 'VAULT_ADDR=http://0.0.0.0:8200' \
 --name=dev-vault \
 -d vault
``` 

* `VAULT_DEV_ROOT_TOKEN_ID=root` sets up the root token as `root`;
* `VAULT_ADDR=http://0.0.0.0:8200` sets an environment variable in the container specifying the protocol, endpoint and Vault port.

The container will log something like this:
```

==> Vault server configuration:
             Api Address: http://0.0.0.0:8200
                    Cgo: disabled
         Cluster Address: https://0.0.0.0:8201
              Listener 1: tcp (addr: "0.0.0.0:8200", cluster address: "0.0.0.0:8201", max_request_duration: "1m30s", max_request_size: "33554432", tls: "disabled")
               Log Level: info
                   Mlock: supported: true, enabled: false
           Recovery Mode: false
                 Storage: inmem
                 Version: Vault v1.3.4

WARNING! dev mode is enabled! In this mode, Vault runs entirely in-memory
and starts unsealed with a single unseal key. The root token is already
authenticated to the CLI, so you can immediately begin using Vault.

You may need to set the following environment variable:

    $ export VAULT_ADDR='http://0.0.0.0:8200'

The unseal key and root token are displayed below in case you want to
seal/unseal the Vault or re-authenticate.

Unseal Key: vsCm1BHIkG3AssAmrySQzqReq6nink/k7w3ywfajdLs=
Root Token: root

Development mode should NOT be used in production installations!

==> Vault server started! Log data will stream in below:
```

In particular the `Unseal Key` and the `Root Token` must be kept in a secure place and not exposed to prevent malicious activities on the Vault instance.

The UI is accessible at [127.0.0.1:8200/ui](127.0.0.1:8200/ui) for logging in with the root token id set at container launch.

The Vault Docker image is built on top of Alpine Linux, so in order to enter the shell launch:

```shell
docker exec -it dev-vault /bin/sh
```

We proceed by logging in via the CLI:
```sh
vault login
```
It will be asked to insert a Token as it is the main authentication mechanism on Vault. By inserting the previously acquired `Root Token` we will be authenticated as root.

## Server mode

This mode is meant to be production-ready and requires several tasks to be fully functional and secure:
* Storage: can be fine-grained tuned to deployment requirements (making use of: file, database, external-services);
* Listener: it's possible to define the TCP address/port Vault will be listening to;
* Sealed:  Vault will be initialized as sealed so that none can interact with it (neither read nor write) until it will be unsealed;

Let's create the volume for the persistent storage:
```sh
docker volume create vault_volume
```
And start the server:
```sh
docker run \
 -v vault_volume:/vault \
 -e 'VAULT_LOCAL_CONFIG={"backend": {"file": {"path": "/vault/file"}}, "default_lease_ttl": "168h", "max_lease_ttl": "720h",  "listener": {"tcp": {"address": "0.0.0.0:8200", "tls_disable": "true"}}}' \
 -e 'VAULT_API_ADDR=http://0.0.0.0:8200' \
 -e 'VAULT_ADDR=http://0.0.0.0:8200' \
 -p 8200:8200 \
 --cap-add=IPC_LOCK \
 --name=vault \
 -d vault server   
```

Once the instance is started we need to connect to the container and initialize the Vault server:
```sh
docker exec -it vault /bin/sh
vault operator init
```

The output will be something like this:
```
Unseal Key 1: ajsRAYx84/diD3+LsQ1chOjYLlULNjyCMGD1z5DA7MZU
Unseal Key 2: l7rSdskIa34AEDUD6vWQzrJZRwAFsMmULl4SeS+QD0z4
Unseal Key 3: k5r6IFmOxE75yctp8qDIfAVnLuyvLS0nX2oM5Yw0OMcG
Unseal Key 4: Rd62m7rs5o/xiAeue+iLCmgDc1BHiGUWkH6DuVBcT/yD
Unseal Key 5: 8w4pp19PhPO35ypYsmR68V11O35lfzjjfya1/4CSOAnr

Initial Root Token: s.irEonmCW3J5Xhh3qTtpysaLk

Vault initialized with 5 key shares and a key threshold of 3. Please securely
distribute the key shares printed above. When the Vault is re-sealed,
restarted, or stopped, you must supply at least 3 of these keys to unseal it
before it can start servicing requests.

Vault does not store the generated master key. Without at least 3 key to
reconstruct the master key, Vault will remain permanently sealed!

It is possible to generate new unseal keys, provided you have a quorum of
existing unseal keys shares. See "vault operator rekey" for more information.
```

In order to unseal Vault we should use at least 3 keys via:
```sh
vault operator unseal <Unseal-Key-X>
```

After the unseal operation we can login in Vault by inserting the `Root Token` when prompted after the command:
```sh
vault login
```
